"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Subscriber_1 = __importDefault(require("./Subscriber"));
class SubscriberAggregator {
    constructor(initializationOptions) {
        this.subscribers = [];
        this.initializeSubscribers(initializationOptions);
    }
    initializeSubscribers(initializationOptions) {
        let { emitter, logger, muteLogging, subscribers } = initializationOptions;
        if (muteLogging)
            logger = () => { };
        for (let name in subscribers) {
            this.subscribers.push(new Subscriber_1.default({
                options: subscribers[name],
                emitter,
                logger,
            }));
        }
    }
    updateSubscriberOptions(newOptions) {
        let { logger, muteLogging } = newOptions;
        if (muteLogging) {
            logger = { log: () => { } };
        }
        this.subscribers.forEach((subscriber) => {
            subscriber.updateOptions({
                logger,
            });
        });
    }
}
exports.default = SubscriberAggregator;
